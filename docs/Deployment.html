


<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Deployment of COSMO to OSM &#8212; MeteoSwiss DevOps v0.0.1 documentation</title>
    <link rel="stylesheet" href="static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="static/p_sphinx_theme.css" type="text/css" />
    <link rel="stylesheet" href="static/local_fonts.css" type="text/css" />
    <script id="documentation_options" data-url_root="./" src="static/documentation_options.js"></script>
    <script src="static/jquery.js"></script>
    <script src="static/underscore.js"></script>
    <script src="static/doctools.js"></script>
    <script src="static/jquery.cookie.js"></script>
    <script src="static/p_sphinx_theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Performance benchmarks of COSMO" href="Performance.html" />
    <link rel="prev" title="MeteoSwiss Spack Instance" href="Spack.html" /> 
            <meta name="viewport" content="width=device-width, initial-scale=1">
  </head><body>
      <div class="relbar-top">
            
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="Performance.html" title="Performance benchmarks of COSMO"
             accesskey="N">next</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="Spack.html" title="MeteoSwiss Spack Instance"
             accesskey="P">previous</a> &nbsp; &nbsp;</li>
      <li><a href="index.html">MeteoSwiss DevOps v0.0.1 documentation</a> &#187;</li>

        <li class="nav-item nav-item-this"><a href="">Deployment of COSMO to OSM</a></li> 
      </ul>
    </div>
      </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="deployment-of-cosmo-to-osm">
<h1>Deployment of COSMO to OSM<a class="headerlink" href="#deployment-of-cosmo-to-osm" title="Permalink to this headline">¶</a></h1>
<p>First, source the admin spack instance:</p>
<p>Specify the release tag which you want to deploy, with which eccodes definitions version you want to deploy it and the installations paths of both cosmo and eccodes (always precise the tag, the compiler and the compiler version!). For example:
.. code-block:: bash</p>
<blockquote>
<div><p>COSMO_SPEC=”<a class="reference external" href="mailto:cosmo&#37;&#52;&#48;5&#46;07&#46;mch1&#46;0">cosmo<span>&#64;</span>5<span>&#46;</span>07<span>&#46;</span>mch1<span>&#46;</span>0</a>.p12%pgi&#64;19.9 +pollen real_type=float cosmo_target=gpu +gt1 +production +claw +eccodes <a class="reference external" href="mailto:^cosmo-eccodes-definitions&#37;&#52;&#48;2&#46;18&#46;0&#46;1">^cosmo-eccodes-definitions<span>&#64;</span>2<span>&#46;</span>18<span>&#46;</span>0<span>&#46;</span>1</a>”
./project/g110/spack-mch/tsa/spack-mch/tools/osm/extract_env.py -s $COSMO_SPEC -i &lt;cosmo_installation_dir&gt; -j &lt;eccodes_installation_dir&gt;</p>
</div></blockquote>
<p>This script is then installing both the tagged cosmo under &lt;cosmo_installation_dir&gt;/bin and eccodes under the given installations directories &lt;eccodes_installation_dir&gt;. A run-env file used to launch cosmo is also installed under the given cosmo install directory and is directly sourceable:</p>
</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">


  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/Deployment.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
      <div class="relbar-bottom">
            
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="Performance.html" title="Performance benchmarks of COSMO"
             >next</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="Spack.html" title="MeteoSwiss Spack Instance"
             >previous</a> &nbsp; &nbsp;</li>
      <li><a href="index.html">MeteoSwiss DevOps v0.0.1 documentation</a> &#187;</li>

        <li class="nav-item nav-item-this"><a href="">Deployment of COSMO to OSM</a></li> 
      </ul>
    </div>
      </div>

    <div class="footer" role="contentinfo">
        &#169; Copyright 2020, Carlos Osuna.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 3.5.1.
    </div>
      <!-- PSphinxTheme -->
  </body>
</html>