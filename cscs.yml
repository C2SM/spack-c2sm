include:
  - remote: 'https://gitlab.com/cscs-ci/recipes/-/raw/master/templates/v2/.ci-ext.yml'

.setup_python:
  script:
    - python3 -m venv .venv
    - source .venv/bin/activate
    - pip install -r requirements.txt
    - source .venv/bin/activate

.setup_uenv:
  script:
    - uenv image pull icon-wcp/v1:rc4


Unit Test:
  extends: .baremetal-runner-santis-gh200
  script:
    - !reference [.setup_python, script]
    - python3 test/unit_test.py
